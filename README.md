#  MeowCofe_bot

Telegram-бот для автоматизации операционных процессов в кофейне или небольшом магазине.

---

##  Функциональность

В приложении есть возможность искать по различным параметрам товар, выбирать количество.
Добавлять к товару различные атрибуты. Реализована интеграция с платежным сервисом Ю-Касса
для оплаты покупок в прямо в приложении.

###  Роли пользователей

- **Админ**  
   Может все.

- **Покупатель**  
   Выбирает товар по ряду параметров (при повторном посещении бот показывает последний выбранный товар)
   Оформляет заказ в приложении
   Оплачивает заказ картой


- **Менеджер магазина** 
   самостоятельно вносит свои товары
   редактирует и управляет доступностью товаров через личный кабинет
   Получает уведомление о новом заказе и принимает его в работу
   Отправляет пользователю уведомление, что его заказ готов и выдает заказ
   Контролирует этапы заказа в личном кабинете

---

##  Технологии

- `Python 3.11+`
- `python-telegram-bot` (Telegram Bot API)
- `PostgreSQL`
- `Docker`, `Docker Compose`
- `FastAPI` 
- `SQLAlchemy`, `Alembic` для работы с БД

---
## Лицензия и правила использования

## Лицензия
Этот проект распространяется под лицензией MIT – подробности см. в файле [LICENSE](./LICENSE).

--


##  Быстрый запуск

> Убедитесь, что установлены Docker и Docker Compose

1. Клонируйте репозиторий:
```bash
git clone git@github.com:nboravlev/EasySochi_cofe_bot.git
```
2. Создайте директорию secrets и добавьте в нее файлы доступа в БД и сервисам (бот_токен, MapBox_token)
```
mkdir -p secrets

```
3. Запустите приложение

```
docker compose up -d --build
```

## Структура проекта

```
EasySochi_bot/
├── README.md
├── bot
│   ├── Dockerfile
│   ├── alembic
│   ├── alembic.ini
│   ├── api
│   ├── check_expired_orders.py
│   ├── db
│   ├── db_monitor.py
│   ├── entrypoint.sh
│   ├── handlers
│   ├── main.py
│   ├── requirements.txt
│   ├── schemas
│   ├── static
│   └── utils
├── db
│   └── tools
├── docker-compose.yml
├── log_viewer
│   ├── Dockerfile
│   ├── app
│   ├── requirements.txt
│   └── utils
└── secrets
    ├── bot_token.txt
    ├── postgres_db.txt
    ├── postgres_password.txt
    ├── postgres_user.txt
    └── ukassa_token.txt
```

## Безопасность
 * Конфиденциальные данные (пользователи БД, токены) хранятся через Docker secrets
 * Доступ в Telegram бот регулируется ролями


## Развитие

 * Веб-интерфейс админа (на FastAPI + React) 
 * Создание экосистемы бронирований услуг, квартир, экскурсий в Сочи
 * Вывод аналитики в веб-интерфейс, с доступом по ролям
